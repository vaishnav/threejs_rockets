import{S as q,C as R,T as O,D,G as C,s as y,M as b,P as z,O as A,V as a,W as T,a as B,B as G,b as j,R as E,L as F}from"./three.686398e9.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const p=new q;p.background=new R(8900331);const x=document.querySelector("#bg"),W=document.querySelector("#progress-bar"),f=document.querySelector("#progress-bar-container");let L=!1;const v=new F(()=>{setTimeout(()=>{f.style.animation="fadeOutAnimation ease 1s"},"200"),setTimeout(()=>{f.style.display="none",L=!0},"1200")},(i,n,c)=>{W.value=n/c*100}),k=new O(v),S=new D;S.setDecoderPath("./draco/");const P=new C(v);P.setDRACOLoader(S);const w=k.load("models/pslv/textures.jpg");w.flipY=!1;w.encoding=y;const H=new b({map:w});P.load("models/pslv/pslv.glb",i=>{i.scene.traverse(n=>{n.material=H}),p.add(i.scene)});const o={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,s.aspect=o.width/o.height,s.updateProjectionMatrix(),l.setSize(o.width,o.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2))});const s=new z(25,o.width/o.height,.1,100);s.position.x=0;s.position.y=9;s.position.z=-10;p.add(s);const r=new A(s,x);r.target=new a(0,3.3,-1);r.enableDamping=!0;r.minPolarAngle=.2*Math.PI;r.maxPolarAngle=.6*Math.PI;r.minDistance=3;r.maxDistance=14;r.panSpeed=.5;r.rotateSpeed=.76;const l=new T({canvas:x,antialias:!0});l.setSize(o.width,o.height);l.setPixelRatio(Math.min(window.devicePixelRatio,2));l.outputEncoding=y;const m=[{position:new a(-.16,1.5,-.95),element:document.querySelector(".point-0")},{position:new a(0,2.5,-.9),element:document.querySelector(".point-1")},{position:new a(0,3.5,-.9),element:document.querySelector(".point-2")},{position:new a(0,4,-.9),element:document.querySelector(".point-3")},{position:new a(0,4.5,-.9),element:document.querySelector(".point-4")},{position:new a(-.5,5,-.9),element:document.querySelector(".point-5")}];new B(200,50);const I=new G(.1,.1,.1),N=new b({color:65280}),h=new j(I,N);h.position.x=m[1].position.x;h.position.y=m[1].position.y;h.position.z=m[1].position.z;const g=new E;function M(){if(r.update(),L)for(const i of m){const n=i.position.clone();n.project(s),g.setFromCamera(n,s);const c=g.intersectObjects(p.children,!0);if(c.length===0)i.element.classList.add("visible");else{const t=c[0].distance,d=i.position.distanceTo(s.position);t<d?i.element.classList.remove("visible"):i.element.classList.add("visible")}const u=n.x*o.width*.5-20,e=-n.y*o.height*.5-20;i.element.style.transform=`translateX(${u}px) translateY(${e}px)`}requestAnimationFrame(M),l.render(p,s)}M();
