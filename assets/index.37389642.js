import{S,C as O,T as z,D,G as C,s as w,M as y,P as T,O as q,V as x,W as B,a as G,B as I,b as j,R as E,L as F}from"./three.686398e9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}})();const d=new S;d.background=new O(8900331);const b=document.querySelector("#bg"),L=document.querySelector("#progress-bar"),g=document.querySelector("#progress-bar-container");console.log(L);let v=!1;const P=new F(()=>{setTimeout(()=>{g.style.animation="fadeOutAnimation ease 1s"},"200"),setTimeout(()=>{g.style.display="none",v=!0},"1200")},(s,t,a)=>{L.value=t/a*100}),W=new z(P),M=new D;M.setDecoderPath("./draco/");const A=new C(P);A.setDRACOLoader(M);const p=W.load("models/pslv/textures.jpg");p.flipY=!1;p.encoding=w;const k=new y({map:p});A.load("models/pslv/pslv.glb",s=>{s.scene.traverse(t=>{t.material=k}),d.add(s.scene)});const o={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,i.aspect=o.width/o.height,i.updateProjectionMatrix(),c.setSize(o.width,o.height),c.setPixelRatio(Math.min(window.devicePixelRatio,2))});const i=new T(25,o.width/o.height,.1,100);i.position.x=0;i.position.y=9;i.position.z=-10;d.add(i);const r=new q(i,b);r.target=new x(0,3.3,-1);r.enableDamping=!0;r.maxAzimuthAngle=1.75*Math.PI;r.minAzimuthAngle=.25*Math.PI;r.minPolarAngle=.2*Math.PI;r.maxPolarAngle=.6*Math.PI;r.minDistance=3;r.maxDistance=14;r.panSpeed=.5;r.rotateSpeed=.76;const c=new B({canvas:b,antialias:!0});c.setSize(o.width,o.height);c.setPixelRatio(Math.min(window.devicePixelRatio,2));c.outputEncoding=w;const m=[{position:new x(-.16,1.5,-.95),element:document.querySelector(".point-0")}];new G(200,50);const H=new I(.1,.1,.1),N=new y({color:65280}),h=new j(H,N);h.position.x=m[0].position.x;h.position.y=m[0].position.y;h.position.z=m[0].position.z;const f=new E;function R(){if(r.update(),v)for(const s of m){const t=s.position.clone();t.project(i),console.log(t.x),f.setFromCamera(t,i);const a=f.intersectObjects(d.children,!0);if(a.length===0)s.element.classList.add("visible");else{const n=a[0].distance,l=s.position.distanceTo(i.position);n<l?s.element.classList.remove("visible"):s.element.classList.add("visible")}const u=t.x*o.width*.5-20,e=-t.y*o.height*.5-20;s.element.style.transform=`translateX(${u}px) translateY(${e}px)`}requestAnimationFrame(R),c.render(d,i)}R();
