import{S as R,C as O,T as D,D as C,G as z,s as y,M as x,P as A,O as T,V as a,W as B,a as G,B as j,b as E,R as F,L as W}from"./three.686398e9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(e){if(e.ep)return;e.ep=!0;const n=c(e);fetch(e.href,n)}})();const p=new R;p.background=new O(8900331);const b=document.querySelector("#bg"),L=document.querySelector("#progress-bar"),g=document.querySelector("#progress-bar-container");console.log(L);let v=!1;const S=new W(()=>{setTimeout(()=>{g.style.animation="fadeOutAnimation ease 1s"},"200"),setTimeout(()=>{g.style.display="none",v=!0},"1200")},(i,t,c)=>{L.value=t/c*100}),k=new D(S),P=new C;P.setDecoderPath("./draco/");const M=new z(S);M.setDRACOLoader(P);const w=k.load("models/pslv/textures.jpg");w.flipY=!1;w.encoding=y;const H=new x({map:w});M.load("models/pslv/pslv.glb",i=>{i.scene.traverse(t=>{t.material=H}),p.add(i.scene)});const o={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,s.aspect=o.width/o.height,s.updateProjectionMatrix(),l.setSize(o.width,o.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2))});const s=new A(25,o.width/o.height,.1,100);s.position.x=0;s.position.y=9;s.position.z=-10;p.add(s);const r=new T(s,b);r.target=new a(0,3.3,-1);r.enableDamping=!0;r.minPolarAngle=.2*Math.PI;r.maxPolarAngle=.6*Math.PI;r.minDistance=3;r.maxDistance=14;r.panSpeed=.5;r.rotateSpeed=.76;const l=new B({canvas:b,antialias:!0});l.setSize(o.width,o.height);l.setPixelRatio(Math.min(window.devicePixelRatio,2));l.outputEncoding=y;const m=[{position:new a(-.16,1.5,-.95),element:document.querySelector(".point-0")},{position:new a(0,2.5,-.9),element:document.querySelector(".point-1")},{position:new a(0,3.5,-.9),element:document.querySelector(".point-2")},{position:new a(0,4,-.9),element:document.querySelector(".point-3")},{position:new a(0,4.5,-.9),element:document.querySelector(".point-4")},{position:new a(-.5,5,-.9),element:document.querySelector(".point-5")}];new G(200,50);const I=new j(.1,.1,.1),N=new x({color:65280}),h=new E(I,N);h.position.x=m[1].position.x;h.position.y=m[1].position.y;h.position.z=m[1].position.z;const f=new F;function q(){if(r.update(),v)for(const i of m){const t=i.position.clone();t.project(s),console.log(t.x),f.setFromCamera(t,s);const c=f.intersectObjects(p.children,!0);if(c.length===0)i.element.classList.add("visible");else{const n=c[0].distance,d=i.position.distanceTo(s.position);n<d?i.element.classList.remove("visible"):i.element.classList.add("visible")}const u=t.x*o.width*.5-20,e=-t.y*o.height*.5-20;i.element.style.transform=`translateX(${u}px) translateY(${e}px)`}requestAnimationFrame(q),l.render(p,s)}q();
